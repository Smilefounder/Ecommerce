 (function(a){a.fn.orbit=function(c){var b={animation:"horizontal-push",animationSpeed:600,timer:true,advanceSpeed:4000,pauseOnHover:false,startClockOnMouseOut:false,startClockOnMouseOutAfter:1000,directionalNav:true,captions:true,captionAnimation:"fade",captionAnimationSpeed:600,bullets:false,bulletThumbs:false,bulletThumbLocation:"",afterSlideChange:function(){}};var c=a.extend(b,c);return this.each(function(){var d=0,q=0,t,s,o;var r=a(this).addClass("orbit"),u=r.wrap('<div class="orbit-wrapper" />').parent();r.add(t).width("1px").height("1px");var B=r.children("img, a, div");B.each(function(){var J=a(this),L=J.width(),K=J.height();if(L>r.width()){r.add(u).width(L);t=r.width()}if(K>r.height()){r.add(u).height(K);s=r.height()}q++});function I(){o=false}function n(){o=true}if(B.length==1){c.directionalNav=false;c.timer=false;c.bullets=false}B.eq(d).css({"z-index":3}).fadeIn(function(){B.css({display:"block"})});function C(){if(!c.timer||c.timer=="false"){return false}else{if(F.is(":hidden")){j=setInterval(function(J){A("next")},c.advanceSpeed)}else{H=true;w.removeClass("active");j=setInterval(function(K){var J="rotate("+k+"deg)";k+=2;x.css({"-webkit-transform":J,"-moz-transform":J,"-o-transform":J});if(k>180){x.addClass("move");p.addClass("move")}if(k>360){x.removeClass("move");p.removeClass("move");k=0;A("next")}},c.advanceSpeed/180)}}}function D(){if(!c.timer||c.timer=="false"){return false}else{H=false;clearInterval(j);w.addClass("active")}}if(c.timer){var G='<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>';u.append(G);var F=u.children("div.timer"),H;if(F.length!=0){var x=a("div.timer span.rotator"),p=a("div.timer span.mask"),w=a("div.timer span.pause"),k=0,j;C();F.click(function(){if(!H){C()}else{D()}});if(c.startClockOnMouseOut){var v;u.mouseleave(function(){v=setTimeout(function(){if(!H){C()}},c.startClockOnMouseOutAfter)});u.mouseenter(function(){clearTimeout(v)})}}}if(c.pauseOnHover){u.mouseenter(function(){D()})}if(c.captions){var h='<div class="orbit-caption"></div>';u.append(h);var g=u.children(".orbit-caption");z()}function z(){if(!c.captions||c.captions=="false"){return false}else{var J=B.eq(d).data("caption");_captionHTML=a(J).html();if(_captionHTML){g.attr("id",J).html(_captionHTML);if(c.captionAnimation=="none"){g.show()}if(c.captionAnimation=="fade"){g.fadeIn(c.captionAnimationSpeed)}if(c.captionAnimation=="slideOpen"){g.slideDown(c.captionAnimationSpeed)}}else{if(c.captionAnimation=="none"){g.hide()}if(c.captionAnimation=="fade"){g.fadeOut(c.captionAnimationSpeed)}if(c.captionAnimation=="slideOpen"){g.slideUp(c.captionAnimationSpeed)}}}}if(c.directionalNav){if(c.directionalNav=="false"){return false}var l='<div class="slider-nav"><span class="right">Right</span><span class="left">Left</span></div>';u.mouseenter(function(){u.append(l);var J=u.children("div.slider-nav").children("span.left"),K=u.children("div.slider-nav").children("span.right");J.click(function(){D();A("prev")});K.click(function(){D();A("next")})});u.mouseleave(function(){a(".slider-nav").remove()})}if(c.bullets){var e='<ul class="orbit-bullets"></ul>';u.append(e);var f=u.children("ul.orbit-bullets");for(i=0;i<q;i++){var m=a("<li>"+(i+1)+"</li>");if(c.bulletThumbs){var E=B.eq(i).data("thumb");if(E){var m=a('<li class="has-thumb">'+i+"</li>");m.css({background:"url("+c.bulletThumbLocation+E+") no-repeat"})}}u.children("ul.orbit-bullets").append(m);m.data("index",i);m.click(function(){D();A(a(this).data("index"))})}y()}function y(){if(!c.bullets){return false}else{f.children("li").removeClass("active").eq(d).addClass("active")}}function A(J){var K=d,M=J;if(K==M){return false}function L(){B.eq(K).css({"z-index":1});I();c.afterSlideChange.call(this)}if(B.length=="1"){return false}if(!o){n();if(J=="next"){d++;if(d==q){d=0}}else{if(J=="prev"){d--;if(d<0){d=q-1}}else{d=J;if(K<d){M="next"}else{if(K>d){M="prev"}}}}y();B.eq(K).css({"z-index":2});if(c.animation=="fade"){B.eq(d).css({opacity:0,"z-index":3}).animate({opacity:1},c.animationSpeed,L)}if(c.animation=="horizontal-slide"){if(M=="next"){B.eq(d).css({left:t,"z-index":3}).animate({left:0},c.animationSpeed,L)}if(M=="prev"){B.eq(d).css({left:-t,"z-index":3}).animate({left:0},c.animationSpeed,L)}}if(c.animation=="vertical-slide"){if(M=="prev"){B.eq(d).css({top:s,"z-index":3}).animate({top:0},c.animationSpeed,L)}if(M=="next"){B.eq(d).css({top:-s,"z-index":3}).animate({top:0},c.animationSpeed,L)}}if(c.animation=="horizontal-push"){if(M=="next"){B.eq(d).css({left:t,"z-index":3}).animate({left:0},c.animationSpeed,L);B.eq(K).animate({left:-t},c.animationSpeed)}if(M=="prev"){B.eq(d).css({left:-t,"z-index":3}).animate({left:0},c.animationSpeed,L);B.eq(K).animate({left:t},c.animationSpeed)}}z()}}})}})(jQuery);